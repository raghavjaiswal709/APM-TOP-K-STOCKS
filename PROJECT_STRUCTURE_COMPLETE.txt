# APM-TOP-K-STOCKS: Complete Project Structure

## ğŸ—ï¸ PROJECT OVERVIEW
APM-TOP-K-STOCKS is a comprehensive full-stack monorepo for stock market analytics and real-time trading dashboard. It's designed for Indian equity markets (NSE/BSE) with advanced charting, live data streaming, and ML-based pattern discovery.

## ğŸ“ ROOT PROJECT STRUCTURE

APM-TOP-K-STOCKS/                         # Root monorepo directory
â”œâ”€â”€ ğŸ³ DEPLOYMENT & ORCHESTRATION
â”‚   â”œâ”€â”€ docker-compose.yml                # Multi-service Docker orchestration
â”‚   â”œâ”€â”€ Dockerfile.backend                # Backend containerization
â”‚   â”œâ”€â”€ Dockerfile.frontend               # Frontend containerization  
â”‚   â”œâ”€â”€ Dockerfile.python                 # Python services containerization
â”‚   â”œâ”€â”€ setup.sh                          # Project setup script
â”‚   â””â”€â”€ no-docker.sh                      # Non-Docker setup script
â”‚
â”œâ”€â”€ ğŸ“‹ CONFIGURATION & DOCS
â”‚   â”œâ”€â”€ package.json                      # Monorepo workspace config
â”‚   â”œâ”€â”€ package-lock.json                 # Dependency lock file
â”‚   â”œâ”€â”€ PROJECT_DOCUMENTATION.md          # Comprehensive project docs
â”‚   â”œâ”€â”€ project-structure.txt             # Project structure reference
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE_COMPLETE.txt    # This complete structure file
â”‚   â”œâ”€â”€ .gitignore                        # Git ignore rules
â”‚   â””â”€â”€ .dockerignore                     # Docker ignore rules
â”‚
â””â”€â”€ ğŸ¢ APPLICATIONS
    â””â”€â”€ apps/                              # Main applications directory
        â”œâ”€â”€ ğŸ”§ BACKEND (NestJS + Python)  # Server-side applications
        â””â”€â”€ ğŸ¨ FRONTEND (Next.js)         # Client-side application

## ğŸ”§ BACKEND APPLICATION (apps/backend/)

### Technology Stack:
- Framework: NestJS (TypeScript)
- Database: PostgreSQL with TypeORM
- Real-time: WebSocket (Socket.IO)
- External APIs: Fyers API integration
- Python Integration: Data fetching & analytics scripts

apps/backend/
â”œâ”€â”€ ğŸ“‚ CONFIGURATION & SETUP
â”‚   â”œâ”€â”€ package.json                      # Backend dependencies & scripts
â”‚   â”œâ”€â”€ package-lock.json                 # Dependency lock
â”‚   â”œâ”€â”€ tsconfig.json                     # TypeScript configuration
â”‚   â”œâ”€â”€ tsconfig.build.json               # Build-specific TS config
â”‚   â”œâ”€â”€ eslint.config.mjs                 # ESLint configuration
â”‚   â”œâ”€â”€ .prettierrc                       # Prettier formatting rules
â”‚   â”œâ”€â”€ .env                              # Environment variables
â”‚   â”œâ”€â”€ .gitignore                        # Backend-specific ignores
â”‚   â””â”€â”€ README.md                         # Backend documentation
â”‚
â”œâ”€â”€ ğŸ—‚ï¸ DATA & STORAGE
â”‚   â””â”€â”€ data/                             # Data files & storage
â”‚       â”œâ”€â”€ ğŸ PYTHON SCRIPTS
â”‚       â”‚   â”œâ”€â”€ data_fetch.py             # Main data fetching script
â”‚       â”‚   â”œâ”€â”€ 2.py                      # Additional data processing
â”‚       â”‚   â”œâ”€â”€ fyers_data.py             # Fyers API integration (root level)
â”‚       â”‚   â”œâ”€â”€ fyers_service_5001.py     # Fyers service on port 5001
â”‚       â”‚   â”œâ”€â”€ fyers_service_5010.py     # Fyers service on port 5010
â”‚       â”‚   â””â”€â”€ multi_company_live_data.py # Multi-company live data fetcher
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ” AUTHENTICATION
â”‚       â”‚   â”œâ”€â”€ auth_status.json          # Authentication status
â”‚       â”‚   â”œâ”€â”€ fyers_data_auth.json      # Fyers data auth tokens
â”‚       â”‚   â”œâ”€â”€ fyers_token.json          # Fyers API tokens
â”‚       â”‚   â””â”€â”€ multi_company_live_data_auth.json # Multi-company auth
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“Š MARKET DATA
â”‚       â”‚   â”œâ”€â”€ company_master.csv        # Company master data
â”‚       â”‚   â”œâ”€â”€ market_data_2025-08-05_NSE # Daily market data files
â”‚       â”‚   â”œâ”€â”€ market_data_2025-08-06_NSE
â”‚       â”‚   â”œâ”€â”€ market_data_2025-08-07_NSE
â”‚       â”‚   â”œâ”€â”€ ohlc_data_2025-08-05_NSE  # OHLC data files
â”‚       â”‚   â”œâ”€â”€ ohlc_data_2025-08-06_NSE
â”‚       â”‚   â””â”€â”€ ohlc_data_2025-08-07_NSE
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“‹ WATCHLISTS
â”‚           â””â”€â”€ watchlists/
â”‚               â”œâ”€â”€ watchlist_A_2025-06-05.csv
â”‚               â”œâ”€â”€ watchlist_B_2025-06-05.csv
â”‚               â”œâ”€â”€ watchlist_C_2025-06-05.csv
â”‚               â””â”€â”€ atchlist_A_2025-06-05.csv
â”‚
â”œâ”€â”€ ğŸ’» SOURCE CODE
â”‚   â””â”€â”€ src/                              # TypeScript source code
â”‚       â”œâ”€â”€ ğŸ  CORE APPLICATION
â”‚       â”‚   â”œâ”€â”€ main.ts                   # Application entry point
â”‚       â”‚   â”œâ”€â”€ app.module.ts             # Root module
â”‚       â”‚   â”œâ”€â”€ app.controller.ts         # Root controller
â”‚       â”‚   â”œâ”€â”€ app.service.ts            # Root service
â”‚       â”‚   â””â”€â”€ app.controller.spec.ts    # Unit tests
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ” AUTHENTICATION
â”‚       â”‚   â””â”€â”€ auth/
â”‚       â”‚       â”œâ”€â”€ auth.module.ts        # Auth module
â”‚       â”‚       â””â”€â”€ fyers-auth.controller.ts # Fyers auth controller
â”‚       â”‚
â”‚       â”œâ”€â”€ âš™ï¸ CONFIGURATION
â”‚       â”‚   â””â”€â”€ config/
â”‚       â”‚       â””â”€â”€ fyers.config.ts       # Fyers API configuration
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ—„ï¸ DATABASE
â”‚       â”‚   â”œâ”€â”€ database/
â”‚       â”‚   â”‚   â””â”€â”€ database.module.ts    # Main database module
â”‚       â”‚   â””â”€â”€ database-test/
â”‚       â”‚       â””â”€â”€ database-test.module.ts # Test database module
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ˆ MARKET DATA MODULE
â”‚       â”‚   â””â”€â”€ market-data/
â”‚       â”‚       â”œâ”€â”€ dto/
â”‚       â”‚       â”‚   â””â”€â”€ market-data.dto.ts # Data transfer objects
â”‚       â”‚       â”œâ”€â”€ entities/
â”‚       â”‚       â”‚   â””â”€â”€ market-data.entity.ts # Database entities
â”‚       â”‚       â”œâ”€â”€ services/
â”‚       â”‚       â”‚   â””â”€â”€ fyers-auth.service.ts # Fyers auth service
â”‚       â”‚       â”œâ”€â”€ websocket/
â”‚       â”‚       â”‚   â”œâ”€â”€ market-data.gateway.ts # WebSocket gateway
â”‚       â”‚       â”‚   â””â”€â”€ python-bridge.gateway.ts # Python bridge
â”‚       â”‚       â”œâ”€â”€ market-data.controller.ts # REST API controller
â”‚       â”‚       â”œâ”€â”€ market-data.module.ts # Module definition
â”‚       â”‚       â””â”€â”€ market-data.service.ts # Business logic
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“Š LIVE MARKET MODULE  
â”‚       â”‚   â””â”€â”€ live-market/
â”‚       â”‚       â”œâ”€â”€ dto/
â”‚       â”‚       â”‚   â””â”€â”€ live-market.dto.ts # Live market DTOs
â”‚       â”‚       â”œâ”€â”€ websocket/
â”‚       â”‚       â”‚   â””â”€â”€ live-market.gateway.ts # Live data gateway
â”‚       â”‚       â”œâ”€â”€ live-market.controller.ts # REST controller
â”‚       â”‚       â”œâ”€â”€ live-market.module.ts # Module definition
â”‚       â”‚       â””â”€â”€ live-market.service.ts # Live market service
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ§  LSTMAE (AI/ML PATTERNS)
â”‚       â”‚   â””â”€â”€ lstmae/
â”‚       â”‚       â”œâ”€â”€ lstmae.controller.ts  # LSTM AutoEncoder controller
â”‚       â”‚       â”œâ”€â”€ lstmae.module.ts      # LSTM module
â”‚       â”‚       â””â”€â”€ lstmae.service.ts     # Pattern discovery service
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ¢ STOCK MODULE
â”‚       â”‚   â””â”€â”€ stock/
â”‚       â”‚       â”œâ”€â”€ dto/
â”‚       â”‚       â”‚   â”œâ”€â”€ stock-data.dto.ts # Stock data DTOs
â”‚       â”‚       â”‚   â”œâ”€â”€ stock-filter.dto.ts # Filter DTOs
â”‚       â”‚       â”‚   â””â”€â”€ stock-response.dto.ts # Response DTOs
â”‚       â”‚       â”œâ”€â”€ entities/
â”‚       â”‚       â”‚   â””â”€â”€ stock.entity.ts   # Stock database entity
â”‚       â”‚       â”œâ”€â”€ stocks.controller.ts  # Stock REST API
â”‚       â”‚       â”œâ”€â”€ stocks.module.ts      # Stock module
â”‚       â”‚       â””â”€â”€ stocks.service.ts     # Stock business logic
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“‹ WATCHLIST MODULE
â”‚           â””â”€â”€ watchlist/
â”‚               â”œâ”€â”€ watchlist.controller.ts # Watchlist REST API
â”‚               â”œâ”€â”€ watchlist.module.ts   # Watchlist module
â”‚               â””â”€â”€ watchlist.service.ts  # Watchlist service
â”‚
â””â”€â”€ ğŸ§ª TESTING
    â””â”€â”€ test/
        â”œâ”€â”€ app.e2e-spec.ts               # End-to-end tests
        â””â”€â”€ jest-e2e.json                 # E2E test configuration

## ğŸ¨ FRONTEND APPLICATION (apps/frontend/)

### Technology Stack:
- Framework: Next.js 15 (React 19)
- Styling: Tailwind CSS + Radix UI
- Charts: Plotly.js, ApexCharts, Syncfusion, Financial Charts
- Real-time: Socket.IO client
- State Management: SWR for server state
- UI Components: Custom + Radix UI primitives

apps/frontend/
â”œâ”€â”€ ğŸ“‚ CONFIGURATION & SETUP
â”‚   â”œâ”€â”€ package.json                      # Frontend dependencies & scripts
â”‚   â”œâ”€â”€ package-lock.json                 # Dependency lock
â”‚   â”œâ”€â”€ tsconfig.json                     # TypeScript configuration
â”‚   â”œâ”€â”€ next.config.ts                    # Next.js configuration
â”‚   â”œâ”€â”€ next-env.d.ts                     # Next.js TypeScript definitions
â”‚   â”œâ”€â”€ eslint.config.mjs                 # ESLint configuration
â”‚   â”œâ”€â”€ tailwind.config.js                # Tailwind CSS configuration
â”‚   â”œâ”€â”€ postcss.config.js                 # PostCSS configuration
â”‚   â”œâ”€â”€ postcss.config.mjs                # PostCSS ES module config
â”‚   â”œâ”€â”€ components.json                   # shadcn/ui components config
â”‚   â”œâ”€â”€ .env                              # Environment variables
â”‚   â”œâ”€â”€ .gitignore                        # Frontend-specific ignores
â”‚   â””â”€â”€ README.md                         # Frontend documentation
â”‚
â”œâ”€â”€ ğŸ¯ APPLICATION CORE
â”‚   â””â”€â”€ app/                              # Next.js App Router structure
â”‚       â”œâ”€â”€ ğŸ  ROOT LAYOUT & PAGES
â”‚       â”‚   â”œâ”€â”€ layout.tsx                # Root layout component
â”‚       â”‚   â”œâ”€â”€ page.tsx                  # Home page
â”‚       â”‚   â”œâ”€â”€ globals.css               # Global CSS styles
â”‚       â”‚   â””â”€â”€ favicon.ico               # Site favicon
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ”— API ROUTES
â”‚       â”‚   â””â”€â”€ api/
â”‚       â”‚       â””â”€â”€ auth/
â”‚       â”‚           â””â”€â”€ fyers/
â”‚       â”‚               â”œâ”€â”€ notify/
â”‚       â”‚               â”‚   â””â”€â”€ route.ts  # Fyers notification endpoint
â”‚       â”‚               â”œâ”€â”€ start/
â”‚       â”‚               â”‚   â””â”€â”€ route.ts  # Start Fyers auth
â”‚       â”‚               â”œâ”€â”€ status/
â”‚       â”‚               â”‚   â””â”€â”€ route.ts  # Auth status check
â”‚       â”‚               â””â”€â”€ token/
â”‚       â”‚                   â””â”€â”€ route.ts  # Token management
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ” AUTHENTICATION PAGES
â”‚       â”‚   â””â”€â”€ auth/
â”‚       â”‚       â””â”€â”€ fyers/
â”‚       â”‚           â””â”€â”€ callback/
â”‚       â”‚               â””â”€â”€ page.tsx      # Fyers OAuth callback
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“Š FEATURE PAGES
â”‚       â”‚   â”œâ”€â”€ dashboard/
â”‚       â”‚   â”‚   â””â”€â”€ page.tsx              # Main dashboard
â”‚       â”‚   â”œâ”€â”€ live-market/
â”‚       â”‚   â”‚   â”œâ”€â”€ page.tsx              # Live market page
â”‚       â”‚   â”‚   â””â”€â”€ components/
â”‚       â”‚   â”‚       â”œâ”€â”€ CompanySelector.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ GridChart.tsx
â”‚       â”‚   â”‚       â””â”€â”€ LiveMarketGrid.tsx
â”‚       â”‚   â”œâ”€â”€ market-data/
â”‚       â”‚   â”‚   â”œâ”€â”€ page.tsx              # Market data page
â”‚       â”‚   â”‚   â””â”€â”€ components/
â”‚       â”‚   â”‚       â”œâ”€â”€ charts/
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ ApexChart.tsx
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ FinancialChart.tsx
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ FinancialChartComponents.tsx
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ PlotlyChart.tsx
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ SyncfusionChart.tsx
â”‚       â”‚   â”‚       â”‚   â””â”€â”€ SyncfusionChartComponents.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ ImageCarousel.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ MarketChart.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ MarketDataTable.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ SymbolSearch.tsx
â”‚       â”‚   â”‚       â””â”€â”€ WatchlistManager.tsx
â”‚       â”‚   â”œâ”€â”€ recommendations/
â”‚       â”‚   â”‚   â”œâ”€â”€ page.tsx              # Recommendations page
â”‚       â”‚   â”‚   â””â”€â”€ components/
â”‚       â”‚   â”‚       â”œâ”€â”€ charts/           # Same chart components as market-data
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ ApexChart.tsx
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ FinancialChart.tsx
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ FinancialChartComponents.tsx
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ PlotlyChart.tsx
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ SyncfusionChart.tsx
â”‚       â”‚   â”‚       â”‚   â””â”€â”€ SyncfusionChartComponents.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ MarketChart.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ MarketDataTable.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ PlotlyChart.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ SymbolSearch.tsx
â”‚       â”‚   â”‚       â””â”€â”€ WatchlistManager.tsx
â”‚       â”‚   â””â”€â”€ watchlist/
â”‚       â”‚       â””â”€â”€ page.tsx              # Watchlist management page
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ§© SHARED COMPONENTS
â”‚       â”‚   â””â”€â”€ components/
â”‚       â”‚       â”œâ”€â”€ ğŸ¨ UI COMPONENTS
â”‚       â”‚       â”‚   â”œâ”€â”€ app-sidebar.tsx   # Main application sidebar
â”‚       â”‚       â”‚   â”œâ”€â”€ shared-layout.tsx # Shared layout wrapper
â”‚       â”‚       â”‚   â”œâ”€â”€ theme-provider.tsx # Theme context provider
â”‚       â”‚       â”‚   â”œâ”€â”€ nav-main.tsx      # Main navigation
â”‚       â”‚       â”‚   â”œâ”€â”€ nav-projects.tsx  # Project navigation
â”‚       â”‚       â”‚   â”œâ”€â”€ nav-secondary.tsx # Secondary navigation
â”‚       â”‚       â”‚   â”œâ”€â”€ nav-user.tsx      # User navigation
â”‚       â”‚       â”‚   â”œâ”€â”€ options.tsx       # Options component
â”‚       â”‚       â”‚   â”œâ”€â”€ toggleButton.tsx  # Toggle button component
â”‚       â”‚       â”‚   â”œâ”€â”€ ViewInDashboardButton.tsx # Dashboard view button
â”‚       â”‚       â”‚   â”œâ”€â”€ FyersAuthStatus.tsx # Fyers auth status
â”‚       â”‚       â”‚   â””â”€â”€ ImageCarousel.tsx # Image carousel component
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ ğŸ“ˆ CHART COMPONENTS
â”‚       â”‚       â”‚   â””â”€â”€ charts/
â”‚       â”‚       â”‚       â””â”€â”€ StockChart.tsx # Stock chart component
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ ğŸ›ï¸ CONTROLLERS
â”‚       â”‚       â”‚   â””â”€â”€ controllers/
â”‚       â”‚       â”‚       â”œâ”€â”€ CalendarForm.tsx
â”‚       â”‚       â”‚       â”œâ”€â”€ DateSelector.tsx
â”‚       â”‚       â”‚       â”œâ”€â”€ RecordedCompanySelector.tsx
â”‚       â”‚       â”‚       â”œâ”€â”€ SelectIndicators.tsx
â”‚       â”‚       â”‚       â”œâ”€â”€ SelectInterval.tsx
â”‚       â”‚       â”‚       â”œâ”€â”€ WatchlistSelector/
â”‚       â”‚       â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚       â”‚       â”‚   â”œâ”€â”€ MultiSelectScrollable.tsx
â”‚       â”‚       â”‚       â”‚   â”œâ”€â”€ MultiSelectWatchlistSelector.tsx
â”‚       â”‚       â”‚       â”‚   â”œâ”€â”€ RadioGroup.tsx
â”‚       â”‚       â”‚       â”‚   â”œâ”€â”€ SelectScrollable.tsx
â”‚       â”‚       â”‚       â”‚   â””â”€â”€ WatchlistSelector.tsx
â”‚       â”‚       â”‚       â””â”€â”€ WatchlistSelector2/
â”‚       â”‚       â”‚           â”œâ”€â”€ index.tsx
â”‚       â”‚       â”‚           â”œâ”€â”€ FilterModal.tsx
â”‚       â”‚       â”‚           â”œâ”€â”€ MultiSelectScrollable.tsx
â”‚       â”‚       â”‚           â”œâ”€â”€ MultiSelectWatchlistSelector.tsx
â”‚       â”‚       â”‚           â”œâ”€â”€ RadioGroup.tsx
â”‚       â”‚       â”‚           â”œâ”€â”€ SelectScrollable.tsx
â”‚       â”‚       â”‚           â””â”€â”€ WatchlistSelector.tsx
â”‚       â”‚       â”‚
â”‚       â”‚       â””â”€â”€ ğŸ§  LSTMAE (AI/ML) COMPONENTS
â”‚       â”‚           â””â”€â”€ lstmae/
â”‚       â”‚               â”œâ”€â”€ LSTMAEDashboard.tsx # Main LSTM dashboard
â”‚       â”‚               â”œâ”€â”€ LSTMAEErrorBoundary.tsx # Error handling
â”‚       â”‚               â”œâ”€â”€ LSTMAEImageCard.tsx # Image display card
â”‚       â”‚               â”œâ”€â”€ LSTMAEInteractiveDashboard.tsx # Interactive dashboard
â”‚       â”‚               â”œâ”€â”€ LSTMAEModal.tsx    # LSTM modal component
â”‚       â”‚               â””â”€â”€ LSTMAEVisualization.tsx # LSTM visualizations
â”‚       â”‚
â”‚       â”œâ”€â”€ âš™ï¸ CONFIGURATION
â”‚       â”‚   â””â”€â”€ config/
â”‚       â”‚       â””â”€â”€ lstmae.config.ts      # LSTM configuration
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‹ CONSTANTS
â”‚       â”‚   â””â”€â”€ constants/
â”‚       â”‚       â””â”€â”€ lstmae.constants.ts   # LSTM constants
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸŒ SERVICES
â”‚       â”‚   â””â”€â”€ services/
â”‚       â”‚       â””â”€â”€ lstmaeService.ts      # LSTM service layer
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ·ï¸ TYPE DEFINITIONS
â”‚           â””â”€â”€ types/
â”‚               â””â”€â”€ lstmae.types.ts       # LSTM TypeScript types
â”‚
â”œâ”€â”€ ğŸ§© REUSABLE COMPONENTS
â”‚   â””â”€â”€ components/
â”‚       â””â”€â”€ ui/                           # shadcn/ui components
â”‚           â”œâ”€â”€ alert.tsx                 # Alert component
â”‚           â”œâ”€â”€ avatar.tsx                # Avatar component
â”‚           â”œâ”€â”€ badge.tsx                 # Badge component
â”‚           â”œâ”€â”€ breadcrumb.tsx            # Breadcrumb navigation
â”‚           â”œâ”€â”€ button.tsx                # Button component
â”‚           â”œâ”€â”€ calendar.tsx              # Calendar component
â”‚           â”œâ”€â”€ card.tsx                  # Card component
â”‚           â”œâ”€â”€ collapsible.tsx           # Collapsible component
â”‚           â”œâ”€â”€ combobox.tsx              # Combobox component
â”‚           â”œâ”€â”€ command.tsx               # Command palette
â”‚           â”œâ”€â”€ dialog.tsx                # Dialog/Modal component
â”‚           â”œâ”€â”€ dropdown-menu.tsx         # Dropdown menu
â”‚           â”œâ”€â”€ form.tsx                  # Form components
â”‚           â”œâ”€â”€ input.tsx                 # Input component
â”‚           â”œâ”€â”€ label.tsx                 # Label component
â”‚           â”œâ”€â”€ popover.tsx               # Popover component
â”‚           â”œâ”€â”€ radio-group.tsx           # Radio group
â”‚           â”œâ”€â”€ scroll-area.tsx           # Scroll area
â”‚           â”œâ”€â”€ select.tsx                # Select component
â”‚           â”œâ”€â”€ separator.tsx             # Separator component
â”‚           â”œâ”€â”€ sheet.tsx                 # Sheet component
â”‚           â”œâ”€â”€ sidebar.tsx               # Sidebar component
â”‚           â”œâ”€â”€ skeleton.tsx              # Skeleton loader
â”‚           â”œâ”€â”€ toast.tsx                 # Toast notifications
â”‚           â”œâ”€â”€ toaster.tsx               # Toast container
â”‚           â””â”€â”€ tooltip.tsx               # Tooltip component
â”‚
â”œâ”€â”€ ğŸ£ CUSTOM HOOKS
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ useLiveMarket.ts              # Live market data hook
â”‚       â”œâ”€â”€ useLSTMAEData.ts              # LSTM data hook
â”‚       â”œâ”€â”€ useMarketData.ts              # Market data hook
â”‚       â”œâ”€â”€ useRecordedData.ts            # Recorded data hook
â”‚       â”œâ”€â”€ useStockData.ts               # Stock data hook
â”‚       â”œâ”€â”€ useWatchlist.ts               # Watchlist hook
â”‚       â”œâ”€â”€ use-mobile.tsx                # Mobile detection hook
â”‚       â””â”€â”€ use-toast.ts                  # Toast notification hook
â”‚
â”œâ”€â”€ ğŸ› ï¸ UTILITIES
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ indicators.ts                 # Technical indicators
â”‚       â”œâ”€â”€ socket.ts                     # Socket.IO client setup
â”‚       â”œâ”€â”€ utils.ts                      # Utility functions
â”‚       â””â”€â”€ shadcn-preset.js              # shadcn preset configuration
â”‚
â”œâ”€â”€ ğŸŒ PUBLIC ASSETS
â”‚   â””â”€â”€ public/
â”‚       â”œâ”€â”€ ğŸ“Š DATA FILES
â”‚       â”‚   â”œâ”€â”€ data-manifest.json        # Data manifest
â”‚       â”‚   â””â”€â”€ recorded_data/            # Historical recorded data
â”‚       â”‚       â”œâ”€â”€ 2025-06-10/
â”‚       â”‚       â”‚   â”œâ”€â”€ GPIL-NSE.json
â”‚       â”‚       â”‚   â”œâ”€â”€ IDBI-NSE.json
â”‚       â”‚       â”‚   â”œâ”€â”€ KIRIINDUS-NSE.json
â”‚       â”‚       â”‚   â”œâ”€â”€ NORTHARC-NSE.json
â”‚       â”‚       â”‚   â”œâ”€â”€ RPOWER-NSE.json
â”‚       â”‚       â”‚   â””â”€â”€ SCI-NSE.json
â”‚       â”‚       â””â”€â”€ 2025-06-17/
â”‚       â”‚           â”œâ”€â”€ GPIL-NSE.json
â”‚       â”‚           â”œâ”€â”€ IDBI-NSE.json
â”‚       â”‚           â”œâ”€â”€ KIRIINDUS-NSE.json
â”‚       â”‚           â”œâ”€â”€ NORTHARC-NSE.json
â”‚       â”‚           â”œâ”€â”€ RPOWER-NSE.json
â”‚       â”‚           â””â”€â”€ SCI-NSE.json
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ˆ GENERATED CHARTS/GRAPHS
â”‚       â”‚   â”œâ”€â”€ Graphs/                   # Chart visualizations
â”‚       â”‚   â”‚   â””â”€â”€ 2025-07-01/
â”‚       â”‚   â”‚       â”œâ”€â”€ N1_Pattern_Plot/  # Pattern plots for each stock
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ ABCAPITAL_NSE/
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ ADANIGREEN_NSE/
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ APOLLO_NSE/
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ [100+ stock directories]
â”‚       â”‚   â”‚       â”‚   â””â”€â”€ ZEEMEDIA_NSE/
â”‚       â”‚   â”‚       â””â”€â”€ watchlist_comp_ind_90d_analysis_plot/
â”‚       â”‚   â”‚           â”œâ”€â”€ 360ONE_NSE_2025-07-01/
â”‚       â”‚   â”‚           â”œâ”€â”€ ABCAPITAL_NSE_2025-07-01/
â”‚       â”‚   â”‚           â”œâ”€â”€ [200+ analysis directories]
â”‚       â”‚   â”‚           â””â”€â”€ ZENTEC_NSE_2025-07-01/
â”‚       â”‚   â””â”€â”€ GraphsN/                  # Normalized charts
â”‚       â”‚       â””â”€â”€ 2025-07-01/
â”‚       â”‚           â”œâ”€â”€ N1_Pattern_Plot/
â”‚       â”‚           â””â”€â”€ watchlist_comp_ind_90d_analysis_plot/
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ–¼ï¸ STATIC ASSETS
â”‚           â”œâ”€â”€ file.svg                  # File icon
â”‚           â”œâ”€â”€ globe.svg                 # Globe icon
â”‚           â”œâ”€â”€ next.svg                  # Next.js logo
â”‚           â”œâ”€â”€ vercel.svg                # Vercel logo
â”‚           â””â”€â”€ window.svg                # Window icon
â”‚
â””â”€â”€ ğŸ”§ SCRIPTS
    â””â”€â”€ scripts/
        â””â”€â”€ generate-manifest.js          # Manifest generation script

## ğŸ”„ DATA FLOW ARCHITECTURE

ğŸ“Š DATA SOURCES (Fyers API, Market Data)
    â†“
ğŸ PYTHON SERVICES (Data Fetching & Processing)
    â”‚   â”œâ”€â”€ fyers_data.py
    â”‚   â”œâ”€â”€ fyers_service_5001.py
    â”‚   â”œâ”€â”€ fyers_service_5010.py
    â”‚   â”œâ”€â”€ multi_company_live_data.py
    â”‚   â””â”€â”€ data_fetch.py
    â†“
ğŸ—„ï¸ DATABASE/FILES (PostgreSQL + JSON Storage)
    â”‚   â”œâ”€â”€ PostgreSQL Database (TypeORM)
    â”‚   â”œâ”€â”€ JSON Auth Files
    â”‚   â”œâ”€â”€ CSV Market Data
    â”‚   â””â”€â”€ Generated Chart Images
    â†“
ğŸ”§ NESTJS BACKEND (REST API + WebSocket)
    â”‚   â”œâ”€â”€ Market Data Module
    â”‚   â”œâ”€â”€ Live Market Module
    â”‚   â”œâ”€â”€ LSTMAE Module
    â”‚   â”œâ”€â”€ Stock Module
    â”‚   â””â”€â”€ Watchlist Module
    â†“
ğŸŒ API LAYER (REST + WebSocket)
    â”‚   â”œâ”€â”€ /api/market-data/*
    â”‚   â”œâ”€â”€ /api/live-market/*
    â”‚   â”œâ”€â”€ /api/lstmae/*
    â”‚   â”œâ”€â”€ /api/stocks/*
    â”‚   â””â”€â”€ /api/watchlist/*
    â†“
ğŸ¨ NEXT.JS FRONTEND (React Components + Hooks)
    â”‚   â”œâ”€â”€ Dashboard Pages
    â”‚   â”œâ”€â”€ Chart Components
    â”‚   â”œâ”€â”€ Real-time Updates
    â”‚   â””â”€â”€ Interactive UI
    â†“
ğŸ‘¤ USER INTERFACE (Browser)

## ğŸ¯ KEY FEATURES BY MODULE

### ğŸ“ˆ Market Data Module
- Real-time market data streaming via WebSocket
- Historical data analysis and storage
- OHLC (Open, High, Low, Close) data processing
- Technical indicators calculation
- RESTful API endpoints for data retrieval
- Integration with Fyers API for live data

### ğŸ§  LSTMAE Module (AI/ML Pattern Discovery)
- LSTM AutoEncoder for pattern discovery
- Spectral analysis of stock price patterns
- Interactive pattern visualization dashboards
- Cluster analysis and pattern classification
- Machine learning-based predictions
- Real-time pattern detection service on port 8506

### ğŸ“Š Live Market Module
- Real-time stock price streaming
- Live data grid with multi-stock monitoring
- WebSocket-based real-time updates
- Company selector for targeted monitoring
- Grid chart visualization
- Live market data aggregation

### ğŸ¢ Stock Module
- Comprehensive stock information management
- Company master data integration
- Advanced stock filtering and search capabilities
- Stock data aggregation and analysis
- Entity relationship management
- Performance metrics calculation

### ğŸ“‹ Watchlist Module
- Custom watchlist creation and management
- Portfolio tracking and analysis
- Watchlist sharing capabilities
- Performance monitoring
- Multi-watchlist support (A, B, C categories)
- CSV import/export functionality

## ğŸ” AUTHENTICATION & SECURITY FLOW

User Authentication Request
    â†“
Frontend Auth Service
    â†“
Fyers OAuth Integration
    â†“
Backend Auth Controller
    â†“
JWT Token Generation
    â†“
Secure Token Storage
    â†“
API Authorization Middleware
    â†“
Protected Resource Access

## ğŸŒ API ENDPOINTS STRUCTURE

### Authentication Endpoints
- POST   /api/auth/fyers/start     # Initiate Fyers OAuth
- GET    /api/auth/fyers/status    # Check auth status
- POST   /api/auth/fyers/token     # Token management
- POST   /api/auth/fyers/notify    # OAuth notifications

### Market Data Endpoints
- GET    /api/market-data          # Get market data
- GET    /api/market-data/:symbol  # Get specific stock data
- WS     /market-data              # WebSocket for real-time data

### Live Market Endpoints
- GET    /api/live-market          # Get live market data
- WS     /live-market              # WebSocket for live updates

### Stock Endpoints
- GET    /api/stocks               # Get stock list
- GET    /api/stocks/:id           # Get specific stock
- POST   /api/stocks/filter        # Filter stocks

### Watchlist Endpoints
- GET    /api/watchlist            # Get watchlists
- POST   /api/watchlist            # Create watchlist
- PUT    /api/watchlist/:id        # Update watchlist
- DELETE /api/watchlist/:id        # Delete watchlist

### LSTMAE Endpoints
- GET    /api/lstmae/:symbol       # Get LSTM analysis
- POST   /api/lstmae/generate      # Generate new analysis
- GET    /api/lstmae/health        # Service health check

## ğŸš€ DEPLOYMENT ARCHITECTURE

### Docker Compose Services
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Docker Compose               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  Frontend   â”‚  â”‚   Backend   â”‚           â”‚
â”‚  â”‚  (Next.js)  â”‚  â”‚  (NestJS)   â”‚           â”‚
â”‚  â”‚  Port: 3000 â”‚  â”‚  Port: 5000 â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚         â”‚                â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   Python    â”‚  â”‚ PostgreSQL  â”‚           â”‚
â”‚  â”‚  Services   â”‚  â”‚  Database   â”‚           â”‚
â”‚  â”‚  Port: 8506 â”‚  â”‚  Port: 5432 â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Service Dependencies
- Frontend depends on Backend API
- Backend depends on PostgreSQL Database
- Python services provide data to Backend
- All services communicate via Docker network

## ğŸ“¦ DEPENDENCY OVERVIEW

### Backend Dependencies (NestJS)
- Core: @nestjs/common, @nestjs/core, @nestjs/platform-express
- Database: @nestjs/typeorm, typeorm, pg
- WebSocket: @nestjs/websockets, @nestjs/platform-socket.io, socket.io
- External APIs: @nestjs/axios, axios, fyers-api-v3
- Utilities: moment, csv-parse, dotenv

### Frontend Dependencies (Next.js)
- Core: next, react, react-dom
- UI: @radix-ui/*, tailwindcss, lucide-react
- Charts: plotly.js, react-plotly.js, apexcharts, @syncfusion/ej2-react-charts
- State: swr, react-hook-form
- Utilities: date-fns, clsx, zod

### Development Tools
- TypeScript: typescript, @types/*
- Linting: eslint, prettier
- Testing: jest, supertest
- Build: swc, webpack

## ğŸ”§ DEVELOPMENT WORKFLOW

### Setup Commands
```bash
# Clone and setup
git clone <repository>
cd APM-TOP-K-STOCKS

# Docker deployment
docker-compose up --build

# Local development
cd apps/frontend && npm run dev    # Frontend on :3000
cd apps/backend && npm run start:dev  # Backend on :5000
```

### File Modification Workflow
1. Edit source files in respective app directories
2. TypeScript compilation happens automatically
3. Hot reload for frontend development
4. Backend auto-restart on changes
5. Database migrations via TypeORM

## ğŸ¨ UI/UX ARCHITECTURE

### Component Hierarchy
```
App Layout (layout.tsx)
â”œâ”€â”€ Sidebar Navigation
â”œâ”€â”€ Main Content Area
â”‚   â”œâ”€â”€ Dashboard Pages
â”‚   â”œâ”€â”€ Market Data Visualizations
â”‚   â”œâ”€â”€ Live Market Grids
â”‚   â”œâ”€â”€ LSTMAE Analytics
â”‚   â””â”€â”€ Watchlist Management
â””â”€â”€ Theme Provider
```

### Styling System
- Tailwind CSS for utility-first styling
- Radix UI for accessible primitives
- Custom theme with dark/light mode support
- Responsive design for mobile/desktop
- shadcn/ui component system

## ğŸ“Š DATA MODELS

### Market Data Entity
- symbol: string
- timestamp: Date
- open, high, low, close: number
- volume: number
- exchange: string (NSE/BSE)

### Stock Entity
- id: string
- companyName: string
- symbol: string
- sector: string
- marketCap: number
- lastPrice: number

### Watchlist Entity
- id: string
- name: string
- symbols: string[]
- createdAt: Date
- userId: string

### LSTMAE Pattern Entity
- symbol: string
- patternType: string
- clusterId: number
- strengthScore: number
- analysisDate: Date

This comprehensive structure provides a complete understanding of the APM-TOP-K-STOCKS project architecture, enabling efficient development, maintenance, and scaling of the stock market analytics platform.
